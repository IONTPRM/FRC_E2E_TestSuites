<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>ImportFromBBG_Price_SalesTrade_Matching</title>
<link rel="stylesheet" type="text/css" href="../../Resources/TPRMAcceptanceTest.css">
</head>
<body style="body">
<p class="documentation"
	style="font-family: Calibri">In this test we are verifying following workflow -<br>
1) Instrument is imported from BBG (correctly imported in Refdata and fed to PXE)<br>
2) Priced in PXE (priced as per the instrument's price type with 'Manual Price' model)<br>
3) Create sales trade manually, position/P&amp;L should not  change<br>
4) Afirm the sales trade on trader side , corresponding trader trade should get updated correctly, position and P&amp;L should get updated<br>
</p>
<br>
	<table class="settings-table"
		style="text-align: left; width: 808px; height: 112px" border="1"
		cellpadding="2" cellspacing="2">
		<tbody>
			<tr>
				<td style="vertical-align: top; width: 206px;">Settings<br>
				</td>
				<td style="vertical-align: top; width: 305px;">Value<br>
				</td>
				<td style="vertical-align: top; width: 215px;">Value<br>
				</td>
			</tr>
			<tr>
				<td style="vertical-align: top; width: 206px;">Suite Setup<br>
				</td>
				<td style="vertical-align: top; width: 305px;">Suite Setup<br>
				</td>
				<td style="vertical-align: top; width: 215px;"><br></td>
			</tr>
			<tr>
				<td style="vertical-align: top; width: 206px;">Suite Teardown<br>
				</td>
				<td style="vertical-align: top; width: 305px;">Suite Teardown<br>
				</td>
				<td style="vertical-align: top; width: 215px;"><br></td>
			</tr>
			<tr>
				<td style="vertical-align: top; width: 206px;">Resource<br>
				</td>
				<td style="vertical-align: top; width: 305px;">%{TESTSUITE_ROOT}${/}Resources${/}CommonLibrariesAndResources.tsv<br>
				</td>
				<td style="vertical-align: top; width: 215px;"><br></td>
			</tr>
			<tr>
				<td style="vertical-align: top; width: 206px;">Resource</td>
				<td style="vertical-align: top; width: 305px;">SuiteKeywords.tsv<br>
				</td>
				<td style="vertical-align: top; width: 215px;"><br></td>
			</tr>

		</tbody>
	</table>
<br>
	<table class="test-case-table"
		style="text-align: left; width: 1110px; height: 100px;" border="1"
		cellpadding="2" cellspacing="2">

		<tbody>
			<tr>
				<td style="vertical-align: top;">Test Case<br>
				</td>
				<td style="vertical-align: top;">Action<br>
				</td>
				<td class="input" style="vertical-align: top;">Instrument Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Coupon Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Value<br>
				</td>
				<td class="input" style="vertical-align: top;">ValueType<br>
				</td>
				<td class="input" style="vertical-align: top;">Trade Value<br>
				</td>
				<td class="input" style="vertical-align: top;">Verb<br>
				</td>
				<td class="input" style="vertical-align: top;">Trade Qty<br>
				</td>
				<td class="input" style="vertical-align: top;">CP Key <br>
				</td>
				<td class="output" style="vertical-align: top;">TS Price<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Yield<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Discount<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					DiscountMargin<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TradeStatusStr<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					CalcStatusStr<br>
				</td>
				
				<td class="output" style="vertical-align: top;">TS
					SalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderSalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;>Pos NetTradingPos<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Pos StatusStr<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Match Status<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					NetTradingPos<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					PositionTypeStr<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">MatchStatus<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosNetTradingPosition<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosPositionTypeStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos StatusStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk PosPnl<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk TradingPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk NetPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk StatusStr<br>(TraderTrade)

				</td>
			</tr>
			<tr>
				<td style="vertical-align: top;">Import a Fixed Treasury, price
					it, create sales trade and affirm it<br>with manual trade
					on trader side<br>
				</td>
				<td style="vertical-align: top;">Import From BBG, Price in
					PXE,Create sales <br> trade and affirm it on trader side<br>
				</td>
				<td style="vertical-align: top;">T Note<br>
				</td>
				<td style="vertical-align: top;">Fixed<br>
				</td>
				<td style="vertical-align: top;">99.75<br>
				</td>
				<td style="vertical-align: top;">Price<br>
				</td>
				<td style="vertical-align: top;">99.50<br>
				</td>
				<td style="vertical-align: top;">Buy<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">${CPKey}<br>
				</td>
				<td style="vertical-align: top;">99.50<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Ok<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">B<br></td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
				<td style="vertical-align: top;">0<br>
				</td>
				<td style="vertical-align: top;">2500<br>
				</td>
				<td style="vertical-align: top;">2500<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
			</tr>


		</tbody>
	</table>
	</body>
<body style="body">
<p class="documentation"
	style="font-family: Calibri"><b>TestCase2:</b> Sales representative should be able to modify non-economic fields of a Trader matched trade.<br><br> 
	In this test we are verifying following workflow -<br>
1) Instrument is imported from BBG (correctly imported in Refdata and fed to PXE)<br>
2) Priced in PXE (priced as per the instrument's price type with 'Manual Price' model)<br>
3) Create sales trade manually, position/P&amp;L should not  change<br>
4) Affirm the sales trade on trader side , corresponding trader trade should get updated correctly, position and P&amp;L should get updated<br>
5)Sales Representative edit Affirmed trade for non-economic field (Ex: CPkey).
</p>
<table class="test-case-table"
		style="text-align: left; width: 1110px; height: 100px;" border="1"
		cellpadding="2" cellspacing="2">

		<tbody>
			<tr>
				<td style="vertical-align: top;">Test Case<br>
				</td>
				<td style="vertical-align: top;">Action<br>
				</td>
				<td class="input" style="vertical-align: top;">Instrument Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Coupon Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Value<br>
				</td>
				<td class="input" style="vertical-align: top;">ValueType<br>
				</td>
				<td class="input" style="vertical-align: top;">Trade Value<br>
				</td>
				<td class="input" style="vertical-align: top;">Verb<br>
				</td>
				<td class="input" style="vertical-align: top;">Trade Qty<br>
				</td>
				<td class="input" style="vertical-align: top;">CP Key <br>
				</td>
				<td class="input" style="vertical-align: top;">edited CP Key <br>
				</td>
				<td class="output" style="vertical-align: top;">TS Price<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Yield<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Discount<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					DiscountMargin<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TradeStatusStr<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					CalcStatusStr<br>
				</td>
				
				<td class="output" style="vertical-align: top;">TS
					SalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderSalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					CPkey<br>(traderTrade)
				</td>
				<td class="output" style="vertical-align: top;>Pos NetTradingPos<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Pos StatusStr<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Match Status<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					NetTradingPos<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					PositionTypeStr<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">MatchStatus<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosNetTradingPosition<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosPositionTypeStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos StatusStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk PosPnl<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk TradingPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk NetPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk StatusStr<br>(TraderTrade)

				</td>
			</tr>
			<tr>
				<td style="vertical-align: top;">Import a Fixed Treasury, price
					it, create sales trade affirm it<br> and sales representative edit trade for non-economic <br>
					field. 
				</td>
				<td style="vertical-align: top;">Import From BBG, Price in
					PXE,Create sales <br> trade, affirm it on trader side and edit <br>
					non-economic field<br>
				</td>
				<td style="vertical-align: top;">Govt<br>
				</td>
				<td style="vertical-align: top;">Index Linked<br>
				</td>
				<td style="vertical-align: top;">98.16<br>
				</td>
				<td style="vertical-align: top;">Price<br>
				</td>
				<td style="vertical-align: top;">98.02<br>
				</td>
				<td style="vertical-align: top;">Buy<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">${CPKey}<br>
				</td>
				<td style="vertical-align: top;">${CPKey1}<br>
				</td>
				<td style="vertical-align: top;">98.02<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Ok<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">${CPKey1}<br>
				</td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">B</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
				<td style="vertical-align: top;">0<br>
				</td>
				<td style="vertical-align: top;">1400<br>
				</td>
				<td style="vertical-align: top;">1400<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
			</tr>


		</tbody>
	</table>
</body>

<body style="body">
<p class="documentation"
	style="font-family: Calibri"><b>TestCase3:</b> Editing trade on trader side for economic fields should break the match<br><br> 
	In this test we are verifying following workflow -<br>
1) Instrument is imported from BBG (correctly imported in Refdata and fed to PXE)<br>
2) Priced in PXE (priced as per the instrument's price type with 'Manual Price' model)<br>
3) Create sales trade manually, position/P&amp;L should not  change<br>
4) Affirm the sales trade on trader side , corresponding trader trade should get updated correctly, position and P&amp;L should get updated<br>
5) Edit affirm trade on trader side by editing economic field (ex:Qty ), we expect that it will break the match.
</p>
<table class="test-case-table"
		style="text-align: left; width: 1110px; height: 100px;" border="1"
		cellpadding="2" cellspacing="2">

		<tbody>
			<tr>
				<td style="vertical-align: top;">Test Case<br>
				</td>
				<td style="vertical-align: top;">Action<br>
				</td>
				<td class="input" style="vertical-align: top;">Instrument Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Coupon Type<br>
				</td>
				<td class="input" style="vertical-align: top;">Value<br>
				</td>
				<td class="input" style="vertical-align: top;">ValueType<br>
				</td>
				<td class="input" style="vertical-align: top;">Trade Value<br>
				</td>
				<td class="input" style="vertical-align: top;">Verb<br>
				</td>
				<td class="input" style="vertical-align: top;">TradeQty<br>
				</td>
				<td class="input" style="vertical-align: top;">Edited TradeQty<br>
				</td>
				<td class="input" style="vertical-align: top;">CP Key <br>
				</td>
				<td class="output" style="vertical-align: top;">TS Price<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Yield<br>
				</td>
				<td class="output" style="vertical-align: top;">TS Discount<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					DiscountMargin<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TradeStatusStr<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					CalcStatusStr<br>
				</td>
				
				<td class="output" style="vertical-align: top;">TS
					SalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					TraderSalesAffirmed<br>
				</td>
				<td class="output" style="vertical-align: top;">TS
					Edited TradeQty<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;>Pos NetTradingPos<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Pos StatusStr<br>(SalesTrade)<br></td>
				<td class="output" style="vertical-align: top;>Match Status<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					NetTradingPos<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos
					PositionTypeStr<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">MatchStatus<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosNetTradingPosition<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">PosPositionTypeStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Pos StatusStr<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk PosPnl<br>(TraderTrade)
				</td>
				<td class="output" style="vertical-align: top;">Risk TradingPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk NetPnl<br>(TraderTrade)

				</td>
				<td class="output" style="vertical-align: top;">Risk StatusStr<br>(TraderTrade)

				</td>
			</tr>
			<tr>
				<td style="vertical-align: top;">Import a Fixed Treasury, price
					it, create sales trade affirm it<br>edit trade on traderside for economic field  to break match<br>
				</td>
				<td style="vertical-align: top;">Import From BBG, Price in PXE, Create sales trade, affirm it <br>on trader side and editeconomic field on trader side<br>
				</td>
				<td style="vertical-align: top;">Corp<br>
				</td>
				<td style="vertical-align: top;">Floater<br>
				</td>
				<td style="vertical-align: top;">99.85<br>
				</td>
				<td style="vertical-align: top;">Price<br>
				</td>
				<td style="vertical-align: top;">99.55<br>
				</td>
				<td style="vertical-align: top;">Buy<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">10<br>
				</td>
				<td style="vertical-align: top;">${CPKey}<br>
				</td>
				<td style="vertical-align: top;">99.55<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">value_ret_by_pxe<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Ok<br>
				</td>
				<td style="vertical-align: top;">2<br>
				</td>
				<td style="vertical-align: top;">1<br>
				</td>
				<td style="vertical-align: top;">2<br>
				</td>
				<td style="vertical-align: top;">10<br>
				</td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">No Change<br></td>
				<td style="vertical-align: top;">B<br></td>
				<td style="vertical-align: top;">10<br>
				</td>
				<td style="vertical-align: top;">Open<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
				<td style="vertical-align: top;">0<br>
				</td>
				<td style="vertical-align: top;">30000<br>
				</td>
				<td style="vertical-align: top;">30000<br>
				</td>
				<td style="vertical-align: top;">Valid<br>
				</td>
			</tr>


		</tbody>
	</table>
	</body>
</html>